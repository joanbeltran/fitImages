/*!
 * Vanilla Javascript fitImages plugin
 * Author: Joan Beltran
 * Git: https://github.com/joanbeltran/
 * License: MIT
 */
!function(i,t){var e="fitImages";"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):i[e]=t(e)}(this,function(){"use strict";function i(i,t){this.element=i,this.options=s(e,t),this.imagesObject=[],this.init()}function t(i,t){this.element=i,this.options=t,this.image=this.element.querySelector("img"),this.image&&this.waitForImageLoad()}var e={fitMethod:"resize",responsive:!0},s=function(i,t){var s,h={};for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&(h[s]=e[s]);for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&(h[s]=t[s]);return h},h=function(i,t,e){var s=i.width/t.width;return e&&"resize"===e?i.height/t.height<s&&(s=i.height/t.height):i.height/t.height>s&&(s=i.height/t.height),s};return i.prototype={init:function(){for(var i=0;i<this.element.length;i++)this.imagesObject[i]=new t(this.element[i],this.options);this.options.responsive&&this.responsive()},responsive:function(){var i=this;window.onresize=function(){for(var t=0;t<i.element.length;t++)i.imagesObject[t].update()}},update:function(){for(var i=0;i<this.element.length;i++)this.imagesObject[i].update()},destroy:function(){for(var i=0;i<this.element.length;i++)this.imagesObject[i].destroy();this.update=void 0,this.responsive=void 0,this.init=void 0,this.destroy=void 0}},t.prototype={waitForImageLoad:function(){var i=this.image.src,t=this;this.image.onload=function(){t.init()},this.image.src=null,this.image.src=i},defineSizes:function(){this.containerDims={width:this.element.clientWidth,height:this.element.clientHeight},this.imageDims={width:this.image.width,height:this.image.height},this.proportion=h(this.containerDims,this.imageDims,this.options.fitMethod),this.resizedImageSize={width:this.imageDims.width*this.proportion,height:this.imageDims.height*this.proportion},this.imageOffset={top:0,left:0}},defineOffsets:function(){this.resizedImageSize.height<this.containerDims.height?this.imageOffset.top=-(this.resizedImageSize.height-this.containerDims.height)/2:this.resizedImageSize.height>this.containerDims.height&&(this.imageOffset.top=-(this.resizedImageSize.height-this.containerDims.height)/2),this.resizedImageSize.width<this.containerDims.width?this.imageOffset.left=-(this.resizedImageSize.width-this.containerDims.width)/2:this.resizedImageSize.width>this.containerDims.width&&(this.imageOffset.left=-(this.resizedImageSize.width-this.containerDims.width)/2)},setImageStyles:function(){var i=this.image.style;i.width=this.resizedImageSize.width,i.height=this.resizedImageSize.height,i.top=this.imageOffset.top,i.left=this.imageOffset.left,i.position="relative"},update:function(){this.image&&(this.defineSizes(),this.defineOffsets(),this.setImageStyles())},destroy:function(){this.image&&(this.image.style.cssText="")},init:function(){this.update(),this.image.style.display="inline"}},i});
